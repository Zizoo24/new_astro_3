/* ============================================
   CSS @LAYER ARCHITECTURE
   OnlineTranslation.ae
   Created: Dec 10, 2025
   
   LOAD THIS FILE FIRST - before all other CSS
   
   @layer establishes cascade priority without
   specificity wars or !important hacks.
   ============================================ */

/* ============================================
   LAYER ORDER DECLARATION
   
   Priority (lowest → highest):
   1. reset      - Browser normalization
   2. tokens     - CSS custom properties
   3. base       - Typography, links, defaults
   4. layout     - Grid, sections, containers
   5. components - Cards, buttons, nav, forms
   6. pages      - Page-specific styles
   7. utilities  - Spacing, text alignment
   8. states     - Dark mode, hover, focus
   9. overrides  - Edge cases, OS-specific, print
   
   Higher layers automatically win over lower
   layers - no !important needed.
   ============================================ */

@layer reset, tokens, base, layout, components, pages, utilities, states, overrides;


/* ============================================
   LAYER 1: RESET
   Browser normalization
   ============================================ */

@layer reset {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 80%;
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    scroll-behavior: smooth;
  }

  body {
    min-height: 100vh;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    height: auto;
  }

  input, button, textarea, select {
    font: inherit;
  }

  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  ul, ol {
    list-style: none;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
  }

  table {
    border-collapse: collapse;
    border-spacing: 0;
  }
}


/* ============================================
   LAYER 2: TOKENS
   CSS Custom Properties
   
   Light mode = :root
   Dark mode  = [data-theme="dark"], body.theme-dark
   
   Token names follow pattern:
   --{category}-{variant}: value
   ============================================ */

@layer tokens {
  :root {
    /* -------- Typography Scale -------- */
    --fs-xs: clamp(0.75rem, 0.65rem + 0.2vw, 0.8rem);
    --fs-sm: clamp(0.875rem, 0.8rem + 0.2vw, 1rem);
    --fs-md: clamp(1rem, 0.9rem + 0.35vw, 1.125rem);
    --fs-lg: clamp(1.25rem, 1rem + 0.6vw, 1.5rem);
    --fs-xl: clamp(1.75rem, 1.3rem + 1.2vw, 2.5rem);
    --fs-xxl: clamp(2.25rem, 1.5rem + 2vw, 3.5rem);
    --fs-hero: clamp(2.5rem, 1.6rem + 2.5vw, 4.5rem);

    /* -------- Spacing Scale -------- */
    --space-xs: clamp(0.25rem, 0.15rem + 0.3vw, 0.5rem);
    --space-sm: clamp(0.5rem, 0.35rem + 0.4vw, 0.75rem);
    --space-md: clamp(0.75rem, 0.5rem + 0.6vw, 1.25rem);
    --space-lg: clamp(1.25rem, 0.8rem + 1vw, 2rem);
    --space-xl: clamp(2rem, 1.2rem + 1.8vw, 3.5rem);
    --space-2xl: clamp(3rem, 1.8rem + 2.5vw, 5rem);
    --space-3xl: clamp(4rem, 2.5rem + 3vw, 7rem);

    /* -------- Section Padding -------- */
    --section-py: clamp(40px, 5vw, 80px);
    --section-py-sm: clamp(24px, 3vw, 50px);
    --section-py-lg: clamp(60px, 7vw, 120px);

    /* -------- Container Widths -------- */
    --container-max: 1200px;
    --container-narrow: 900px;
    --container-wide: 1400px;

    /* -------- Gutters -------- */
    --gutter: clamp(16px, 2vw, 24px);
    --gutter-sm: clamp(12px, 1.5vw, 16px);
    --gutter-lg: clamp(20px, 2.5vw, 32px);

    /* -------- Border Radius -------- */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;

    /* -------- Transitions -------- */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;

    /* ============================================
       LIGHT MODE COLORS
       All contrast ratios for WCAG AA
       Normal text: ≥4.5:1 | Large text: ≥3:1
       ============================================ */

    /* === SURFACE COLORS (Backgrounds) === */
    --surface-base: #ffffff;
    --surface-raised: #f8f9fa;
    --surface-muted: #f0f2f5;
    --surface-navy: #0E2B48;
    --surface-navy-dark: #072035;
    --surface-overlay: rgba(14, 43, 72, 0.85);

    /* === TEXT COLORS - on white/light === */
    --text-heading: #0E2B48;
    --text-body: #2d3748;
    --text-secondary: #4a5568;
    --text-muted: #5a6a7a;
    --text-subtle: #718096;

    /* === TEXT COLORS - on dark === */
    --text-on-dark: #f4f7fc;
    --text-on-dark-muted: #c5d4e8;
    --text-on-dark-subtle: #9fb2c9;

    /* === LINK COLORS === */
    --link-color: #0077b6;
    --link-hover: #005f8a;
    --link-on-dark: #7fd1ff;
    --link-on-dark-hover: #ffe178;

    /* === ACCENT/BRAND === */
    --accent-coral: #FF1654;
    --accent-coral-hover: #e01346;
    --accent-gold: #b8860b;
    --accent-gold-light: #d4a54c;

    /* === STATE COLORS === */
    --state-success: #047857;
    --state-warning: #b45309;
    --state-danger: #dc2626;
    --state-info: #0369a1;

    /* === BORDER COLORS === */
    --border-light: #e2e8f0;
    --border-medium: #cbd5e1;
    --border-dark: #94a3b8;
    --border-on-dark: rgba(255,255,255,0.2);

    /* === SHADOWS === */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
    --shadow-lg: 0 8px 30px rgba(0,0,0,0.12);

    /* === LEGACY ALIASES === */
    --brand-coral: var(--accent-coral);
    --brand-coral-dark: var(--accent-coral-hover);
    --brand-navy: var(--surface-navy);
    --brand-navy-dark: var(--surface-navy-dark);
    --brand-white: var(--surface-base);
    --brand-muted: var(--text-muted);
    --brand-gold: var(--accent-gold-light);
    --bg-white: var(--surface-base);
    --bg-light: var(--surface-raised);
    --bg-alt: var(--surface-muted);
    --bg-dark: var(--surface-navy-dark);
    --bg-card: var(--surface-base);
    --bg-elevated: var(--surface-raised);
    --text-dark: var(--text-heading);
    --text-light: var(--text-on-dark);
    --primary-color: var(--surface-navy);
    --primary-dark: var(--surface-navy-dark);
    --primary-accent: var(--link-color);
    --accent-color: var(--accent-coral);
    --border-color: var(--border-light);
  }

  /* ============================================
     DARK MODE COLORS
     Token values swap - components adapt via var()
     ============================================ */

  [data-theme="dark"],
  body.theme-dark {
    /* === SURFACE COLORS === */
    --surface-base: #0b111a;
    --surface-raised: #121b2a;
    --surface-muted: #1b2738;
    --surface-navy: #243347;
    --surface-navy-dark: #0b111a;
    --surface-overlay: rgba(11, 17, 26, 0.82);

    /* === TEXT COLORS === */
    --text-heading: #f4f7fc;
    --text-body: #dfe8f5;
    --text-secondary: #c5d4e8;
    --text-muted: #9fb2c9;
    --text-subtle: #7a8fa6;

    --text-on-dark: #f4f7fc;
    --text-on-dark-muted: #c5d4e8;
    --text-on-dark-subtle: #9fb2c9;

    /* === LINK COLORS === */
    --link-color: #7fd1ff;
    --link-hover: #ffe178;
    --link-on-dark: #7fd1ff;
    --link-on-dark-hover: #ffe178;

    /* === ACCENT/BRAND === */
    --accent-coral: #ff6b6b;
    --accent-coral-hover: #ff5050;
    --accent-gold: #f2cf87;
    --accent-gold-light: #ffe178;

    /* === STATE COLORS === */
    --state-success: #4ade80;
    --state-warning: #facc15;
    --state-danger: #ff4f6d;
    --state-info: #7fd1ff;

    /* === BORDER COLORS === */
    --border-light: #1f2a3a;
    --border-medium: #304156;
    --border-dark: #3d4f66;
    --border-on-dark: rgba(255,255,255,0.15);

    /* === SHADOWS === */
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.4);
    --shadow-md: 0 6px 20px rgba(0,0,0,0.5);
    --shadow-lg: 0 12px 40px rgba(0,0,0,0.6);

    /* === LEGACY ALIASES (dark mode) === */
    --brand-coral: var(--accent-coral);
    --brand-coral-dark: var(--accent-coral-hover);
    --brand-white: var(--text-heading);
    --brand-muted: var(--text-muted);
    --brand-gold: var(--accent-gold);
    --bg-white: var(--surface-base);
    --bg-light: var(--surface-raised);
    --bg-alt: var(--surface-muted);
    --bg-dark: var(--surface-navy-dark);
    --bg-card: var(--surface-muted);
    --bg-elevated: var(--surface-navy);
    --text-dark: var(--text-heading);
    --text-light: var(--text-on-dark);
    --primary-accent: var(--link-color);
    --accent-color: var(--accent-coral);
    --border-color: var(--border-medium);
  }
}


/* ============================================
   LAYER 3: BASE
   Typography, links, global defaults
   ============================================ */

@layer base {
  body {
    font-family: 'Open Sans', system-ui, -apple-system, sans-serif;
    font-size: var(--fs-md);
    color: var(--text-body);
    background: var(--surface-base);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Montserrat', system-ui, -apple-system, sans-serif;
    font-weight: 700;
    color: var(--text-heading);
    line-height: 1.2;
  }

  h1 { font-size: var(--fs-hero); }
  h2 { font-size: var(--fs-xxl); }
  h3 { font-size: var(--fs-xl); }
  h4 { font-size: var(--fs-lg); }
  h5 { font-size: var(--fs-md); }
  h6 { font-size: var(--fs-sm); }

  p {
    color: var(--text-body);
    line-height: 1.7;
    margin-bottom: 1em;
  }

  a {
    color: var(--link-color);
    transition: color var(--transition-fast);
  }

  a:hover,
  a:focus {
    color: var(--link-hover);
  }

  a:visited {
    color: var(--link-color);
  }

  strong, b {
    font-weight: 600;
    color: var(--text-heading);
  }

  /* Links on dark backgrounds */
  .bg-dark a,
  .hero-section a,
  .footer a {
    color: var(--link-on-dark);
  }

  .bg-dark a:hover,
  .hero-section a:hover,
  .footer a:hover {
    color: var(--link-on-dark-hover);
  }

  /* Button-style links */
  a.btn-coral,
  a.hero-cta,
  a.header-cta,
  a[class*="btn-"],
  button {
    color: inherit;
  }
}


/* ============================================
   LAYER 4: LAYOUT
   Sections, containers, grid, columns
   ============================================ */

@layer layout {
  .section {
    position: relative;
    width: 100%;
    padding: var(--section-py) 0;
  }

  .section--sm { padding: var(--section-py-sm) 0; }
  .section--lg { padding: var(--section-py-lg) 0; }
  .section--flush { padding: 0; }

  .section--hero {
    min-height: 85vh;
    display: flex;
    align-items: center;
    padding-top: 160px;
    padding-bottom: 180px;
  }

  .bg-white { background-color: var(--surface-base); }
  .bg-light { background-color: var(--surface-raised); }
  .bg-alt { background-color: var(--surface-muted); }
  .bg-dark { 
    background-color: var(--surface-navy); 
    color: var(--text-on-dark);
  }

  .bg-dark h1, .bg-dark h2, .bg-dark h3,
  .bg-dark h4, .bg-dark h5, .bg-dark h6 {
    color: var(--text-on-dark);
  }

  .bg-dark p, .bg-dark li {
    color: var(--text-on-dark-muted);
  }

  .container {
    width: 100%;
    max-width: var(--container-max);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-sm);
    padding-right: var(--space-sm);
    position: relative;
  }

  .container--narrow { max-width: var(--container-narrow); }
  .container--wide { max-width: var(--container-wide); }

  .row {
    display: flex;
    flex-wrap: wrap;
    margin-left: calc(var(--gutter) / -2);
    margin-right: calc(var(--gutter) / -2);
  }

  .row--center { justify-content: center; }
  .row--between { justify-content: space-between; }
  .row--middle { align-items: center; }

  [class*="col-"] {
    padding-left: calc(var(--gutter) / 2);
    padding-right: calc(var(--gutter) / 2);
    margin-bottom: var(--gutter);
  }

  .col-3 { flex: 0 0 25%; max-width: 25%; }
  .col-4 { flex: 0 0 33.333%; max-width: 33.333%; }
  .col-6 { flex: 0 0 50%; max-width: 50%; }
  .col-8 { flex: 0 0 66.666%; max-width: 66.666%; }
  .col-9 { flex: 0 0 75%; max-width: 75%; }
  .col-12 { flex: 0 0 100%; max-width: 100%; }

  .grid { display: grid; gap: var(--gutter); }
  .grid-2 { grid-template-columns: repeat(2, 1fr); }
  .grid-3 { grid-template-columns: repeat(3, 1fr); }
  .grid-4 { grid-template-columns: repeat(4, 1fr); }
  .grid--auto-fit { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }

  .section-header {
    text-align: center;
    margin-bottom: var(--space-xl);
  }

  .section-subtitle {
    max-width: 700px;
    margin: var(--space-sm) auto 0;
    color: var(--text-muted);
    font-size: 1rem;
    line-height: 1.7;
  }

  @media (max-width: 991px) {
    .section--hero { min-height: auto; padding-top: 120px; padding-bottom: 100px; }
    .col-md-6 { flex: 0 0 50%; max-width: 50%; }
    .col-md-12 { flex: 0 0 100%; max-width: 100%; }
    .grid-4 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(2, 1fr); }
    .hide-tablet { display: none; }
  }

  @media (max-width: 767px) {
    .section--hero { padding-top: 80px; padding-bottom: 40px; }
    [class*="col-"] { flex: 0 0 100%; max-width: 100%; }
    .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
    .hide-mobile { display: none; }
  }
}


/* ============================================
   LAYER 7: UTILITIES
   Spacing, alignment, visibility helpers
   ============================================ */

@layer utilities {
  .mt-0 { margin-top: 0; }
  .mt-sm { margin-top: var(--space-sm); }
  .mt-md { margin-top: var(--space-md); }
  .mt-lg { margin-top: var(--space-lg); }
  .mt-xl { margin-top: var(--space-xl); }

  .mb-0 { margin-bottom: 0; }
  .mb-sm { margin-bottom: var(--space-sm); }
  .mb-md { margin-bottom: var(--space-md); }
  .mb-lg { margin-bottom: var(--space-lg); }
  .mb-xl { margin-bottom: var(--space-xl); }

  .py-sm { padding-top: var(--space-sm); padding-bottom: var(--space-sm); }
  .py-md { padding-top: var(--space-md); padding-bottom: var(--space-md); }
  .py-lg { padding-top: var(--space-lg); padding-bottom: var(--space-lg); }

  .text-center { text-align: center; }
  .text-left { text-align: left; }
  .text-right { text-align: right; }

  .flex { display: flex; }
  .flex-col { flex-direction: column; }
  .items-center { align-items: center; }
  .justify-center { justify-content: center; }
  .justify-between { justify-content: space-between; }
  .gap-sm { gap: var(--space-sm); }
  .gap-md { gap: var(--space-md); }
  .gap-lg { gap: var(--space-lg); }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}


/* ============================================
   LAYER 9: OVERRIDES
   Print, reduced motion, focus states
   ============================================ */

@layer overrides {
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  @media print {
    body { background: #fff; color: #000; }
    .no-print, nav, footer, .sidebar, .mobile-action-bar { display: none !important; }
    a { color: #000; text-decoration: underline; }
    .card { box-shadow: none; border: 1px solid #ccc; }
  }

  :focus-visible {
    outline: 2px solid var(--link-color);
    outline-offset: 2px;
  }

  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    padding: 8px 16px;
    background: var(--surface-navy);
    color: var(--text-on-dark);
    z-index: 9999;
    transition: top var(--transition-fast);
  }

  .skip-link:focus { top: 0; }
}
