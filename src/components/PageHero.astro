---
interface Props {
  title: string;
  subtitle?: string;
  intro?: string;
  breadcrumbs: Array<{label: string; href?: string}>;
  theme?: 'dark' | 'light';
  backgroundImage?: string;
}

const { 
  title, 
  subtitle,
  intro,
  breadcrumbs,
  theme = 'dark',
  backgroundImage
} = Astro.props;

const bgClass = theme === 'dark' ? 'bg-dark' : 'bg-light';
const hasImage = !!backgroundImage;
---

<section 
  class={`hero-section ${bgClass} ${hasImage ? 'has-bg-image' : ''}`} 
  data-theme={theme}
  style={hasImage ? `--bg-image: url('${backgroundImage}')` : ''}
>
  {hasImage && <div class="hero-overlay"></div>}
  <div class="container">
    <nav class="breadcrumb" aria-label="Breadcrumb">
      {breadcrumbs.map((crumb, i) => (
        <>
          {crumb.href ? (
            <a href={crumb.href}>{crumb.label}</a>
          ) : (
            <span class="current">{crumb.label}</span>
          )}
          {i < breadcrumbs.length - 1 && <span class="separator">&gt;</span>}
        </>
      ))}
    </nav>
    
    <h1>{title}</h1>
    {subtitle && <p class="hero-subtitle">{subtitle}</p>}
    {intro && <p class="hero-intro">{intro}</p>}
  </div>
</section>

<style>
  .hero-section {
    padding: 8rem 0 4rem;
    position: relative;
  }
  
  .hero-section.has-bg-image {
    background-image: var(--bg-image);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  .hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(14, 43, 72, 0.88) 0%, rgba(14, 43, 72, 0.75) 100%);
    z-index: 1;
  }
  
  .hero-section.has-bg-image .container {
    position: relative;
    z-index: 2;
  }
  
  .hero-section.bg-dark {
    background-color: var(--primary-color);
    color: #fff;
  }
  
  .hero-section.bg-light {
    background: var(--bg-light, #f8f9fa);
    color: var(--text-dark, #1a1a1a);
  }
  
  .breadcrumb {
    font-size: 0.85rem;
    letter-spacing: 0.1em;
    margin-bottom: 2rem;
  }
  
  /* Dark theme breadcrumbs */
  .bg-dark .breadcrumb a {
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
  }
  
  .bg-dark .breadcrumb a:hover {
    color: #fff;
  }
  
  .bg-dark .breadcrumb .separator {
    margin: 0 0.75rem;
    color: rgba(255, 255, 255, 0.4);
  }
  
  .bg-dark .breadcrumb .current {
    color: #fff;
  }
  
  .bg-dark h1 {
    color: #fff;
  }
  
  .bg-dark .hero-intro {
    color: rgba(255, 255, 255, 0.9);
  }
  
  /* Light theme breadcrumbs */
  .bg-light .breadcrumb a {
    color: var(--text-muted, #666);
    text-decoration: none;
  }
  
  .bg-light .breadcrumb a:hover {
    color: var(--primary-color);
  }
  
  .bg-light .breadcrumb .separator {
    margin: 0 0.75rem;
    color: var(--text-muted, #666);
  }
  
  .bg-light .breadcrumb .current {
    color: var(--text-dark, #1a1a1a);
  }
  
  .bg-light h1 {
    color: var(--primary-color);
  }
  
  .bg-light .hero-intro {
    color: var(--text-muted, #666);
  }
  
  .hero-section h1 {
    font-size: clamp(2rem, 5vw, 3rem);
    font-weight: 700;
    margin-bottom: 1rem;
  }
  
  .hero-subtitle {
    font-size: 1.25rem;
    color: var(--accent-color);
    font-weight: 600;
    margin-bottom: 1rem;
  }
  
  .hero-intro {
    font-size: 1.1rem;
    max-width: 700px;
    line-height: 1.7;
  }
</style>
