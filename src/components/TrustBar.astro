---
/**
 * TrustBar.astro - Government/Partner Logos Carousel
 *
 * Displays trusted partner logos in an animated carousel
 * Use this component on any page that needs the trust bar
 */

interface Props {
  title?: string;
}

const { title = "Trusted & Recognized By" } = Astro.props;

// Logo data - single source of truth (WebP for performance, 97%+ smaller than PNG)
const logos = [
  { src: "/assets/images/logos/moj.webp", alt: "Ministry of Justice UAE" },
  { src: "/assets/images/logos/dubai-courts.webp", alt: "Dubai Courts" },
  { src: "/assets/images/logos/dubai-police.webp", alt: "Dubai Police" },
  { src: "/assets/images/logos/dld.webp", alt: "Dubai Land Department" },
  { src: "/assets/images/logos/mofaic.webp", alt: "MOFAIC" },
];
---

<section class="trust-bar-section">
  <div class="container">
    <div class="trust-bar-header">
      <h3 class="trust-bar-title">{title}</h3>
    </div>
    <div class="trust-bar-logos">
      <div class="trust-bar-carousel">
        <!-- First set of logos -->
        {logos.map((logo) => (
          <div class="trust-capsule">
            <img src={logo.src} alt={logo.alt} loading="lazy" width="160" height="72" />
          </div>
        ))}
        <!-- Duplicate for seamless loop -->
        {logos.map((logo) => (
          <div class="trust-capsule">
            <img src={logo.src} alt={logo.alt} loading="lazy" width="160" height="72" />
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
